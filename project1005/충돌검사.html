<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>충돌검사</title>
    <style>
        body{
            margin: 0px;
            width: 100%;
            height: 800px;
            background: yellow;
        }
    </style>
    <script src="Box.js"></script>
    <script src="../js/lib.js"></script>
    <script>

        var b1,b2;
        
        // 마우스를 움직이는 동안, 호출할 함수
        function getPos(){
            var x = event.clientX;
            var y = event.clientY;
            // console.log(b1.x);
            drag(x,y);
        }

        // 박스 나르기
        function drag(x,y){
            b1.x = x;
            b1.y = y;
            b1.div.style.left = b1.x + "px";
            b1.div.style.top = b1.y + "px";

            b1.div.innerText = "x : " + b1.x + "\ny : " + b1.y;
            b2.div.innerText = "x : " + b2.x + "\ny : " + b2.y;

            // 충돌판단 (x축이 교차하고 and y축도 교차해야함)
            // if((b1.x + b1.width >= b2.x) && (b1.y + b1.height >= b2.y)){
            //     console.log("교차함");
            //     b1.div.style.background = "green";
            // }else{
            //     b1.div.style.background = "red";
            // }
            var result = collisionCheck(b1.div,b2.div);
            if(result){
                b1.div.style.background = "green"
            } else {
                b1.div.style.background = "red";
            }
        }

        function init(){
            b1 = new Box("red", 100, 200 );
            b2 = new Box("blue", 500, 200 );
        }

        window.addEventListener("load", function(){
            init();
        });
    </script>
</head>
<body onMousemove ="getPos()">
    
</body>
</html>